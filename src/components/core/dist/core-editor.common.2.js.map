{"version":3,"sources":["webpack://core-editor/./src/components/core/plugins/lbp-slide__editor.js"],"names":["props","elementProps","type","Object","default","_default","items","activeIndex","computed","innerItems","data","current","methods","itemRender","originalElement","_this","h","$createElement","marginRight","length","click","minus","marginLeft","add","push","image","value","concat","label","index","splice","Math","max","render","_this2","arguments","currentItem","change","page","margin","url"],"mappings":"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","file":"core-editor.common.2.js","sourcesContent":["export default {\n  props: {\n    elementProps: {\n      type: Object,\n      default: () => ({\n        items: [],\n        activeIndex: 0\n      })\n    }\n  },\n  computed: {\n    innerItems () {\n      return this.elementProps.items\n    }\n  },\n  data: () => ({\n    current: 1\n  }),\n  methods: {\n    itemRender (current, type, originalElement) {\n      if (type === 'prev') {\n        return <a-button style={{ marginRight: '8px' }} size=\"small\" icon=\"minus\" onClick={() => this.minus(current)} disabled={this.innerItems.length === 1}></a-button>\n      } else if (type === 'next') {\n        return <a-button style={{ marginLeft: '8px' }} size=\"small\" icon=\"plus\" onClick={this.add}></a-button>\n      }\n      return originalElement\n    },\n    add () {\n      // this.$emit('change', {\n      //   activeIndex: this.innerItems.length,\n      //   items: [\n      //     ...this.innerItems,\n      //     {\n      //       image: '',\n      //       value: `选项${this.innerItems.length + 1}-value`,\n      //       label: `选项${this.innerItems.length + 1}-label`\n      //     }\n      //   ]\n      // })\n      this.elementProps.items.push({\n        image: '',\n        value: `选项${this.innerItems.length + 1}-value`,\n        label: `选项${this.innerItems.length + 1}-label`\n      })\n    },\n    minus (index) {\n      if (this.innerItems.length === 1) return\n      this.elementProps.items.splice(index, 1)\n      // this.elementProps.activeIndex = index > 0 ? index - 1 : 0\n      this.elementProps.activeIndex = Math.max(index - 1, 0)\n      // const items = this.innerItems.slice(0)\n      // items.splice(index, 1)\n      // this.$emit('change', {\n      //   items,\n      //   activeIndex: index > 0 ? index - 1 : 0\n      // })\n    }\n  },\n  render () {\n    const currentItem = this.innerItems[this.current - 1] || {}\n    return <div>\n      {\n        <a-pagination\n          current={this.current}\n          onChange={(page) => {\n            this.current = page\n\n            this.elementProps.activeIndex = page - 1\n            // this.$emit('change', {\n            //   items: this.innerItems,\n            //   activeIndex: page - 1\n            // })\n          }}\n          size=\"small\"\n          total={this.innerItems.length}\n          defaultPageSize={1}\n          itemRender={this.itemRender}\n        />\n      }\n      <lbs-image-gallery\n        style={{ margin: '16px 0' }}\n        value={currentItem.image}\n        onChange={url => {\n          currentItem.image = url\n        }}\n      />\n    </div>\n  }\n\n}\n"],"sourceRoot":""}